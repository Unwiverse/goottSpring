<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
     
<!-- 
    - namespace 명은 패키지명을 포함해서 DAO 인터페이스 이름을
      사용하는 것이 관례임.
    - namespace 명은 mapper들을 구분하는데 식별자로 사용이 됨.
 	 -->
    <mapper namespace="empDao">
   		<select id="all" resultType="emp">
   			select * from emp order by hiredate desc
   		</select>
   		
   		<insert id="insert" parameterType="emp">
   			insert into emp values(
	   			(select max(empno) from emp) + 1,
				#{ename}, #{job}, #{mgr}, sysdate,
				#{sal}, #{comm}, #{deptno})
   		</insert>
   		
   		<select id="getone" parameterType="int" resultType="emp">
   			select * from emp where empno=#{no}
   		</select>
   		
   		<select id="dept" resultType="dept">
   			select * from dept
   		</select>
   		
   		<update id="modify" parameterType="emp">
   			update emp set job=#{job}, mgr=#{mgr}, sal=#{sal},
   			comm=#{comm}, deptno=#{deptno} where empno = #{empno}
   		</update>
   		
   		<delete id="del" parameterType="int">
   			delete from emp where empno=#{no}
   		</delete>
   		
   	</mapper> 